"use strict";(self.webpackChunkeasifem_docs=self.webpackChunkeasifem_docs||[]).push([[462],{31615:(e,n,r)=>{r.d(n,{ZP:()=>o});var i=r(85893),a=r(11151);function t(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["In this example we initiate an instance of ",(0,i.jsx)(n.a,{href:"/docs-api/DirichletBC",children:"DirichletBC"})," by using the ",(0,i.jsx)(n.a,{href:"/docs-api/UserFunction",children:"UserFunction"}),". The user function will be configured to give constant value."]}),"\n",(0,i.jsxs)(n.p,{children:["We will define a pointer to ",(0,i.jsx)(n.code,{children:"UserFunction_"})," and then call ",(0,i.jsx)(n.a,{href:"/docs-api/AbstractBC/Set",children:"Set"})," method. Then, the ",(0,i.jsx)(n.code,{children:"Set"})," method will point to the user supplied ",(0,i.jsx)(n.code,{children:"UserFunction"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:'PROGRAM main\nUSE easifemBase\nUSE easifemClasses\nIMPLICIT NONE\n\nCHARACTER(*), PARAMETER :: myName = "main"\nCHARACTER(*), PARAMETER :: modName = "main"\nTYPE(DirichletBC_) :: obj\nTYPE(MeshSelection_) :: boundary\nTYPE(ParameterList_) :: param\nTYPE(Domain_) :: dom\nTYPE(HDF5File_) :: domainfile\nCLASS(UserFunction_), POINTER :: func\nCHARACTER(*), PARAMETER :: domainfilename = "./mesh3D.h5"\nINTEGER(I4B) :: bottom = 1, top = 2, left = 3, right = 4,  &\n  & front = 5, behind = 6, nsd\nINTEGER(I4B), ALLOCATABLE :: nodeNum(:)\nREAL(DFP), ALLOCATABLE :: nodalValue(:, :)\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Initiate ",(0,i.jsx)(n.a,{href:"/docs-api/Domain",children:"Domain"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:'CALL FPL_Init; CALL param%Initiate()\nCALL domainfile%Initiate(filename=domainfilename, mode="READ")\nCALL domainfile%OPEN()\nCALL dom%Initiate(domainfile, group="")\nnsd = dom%GetNSD()\n'})}),"\n",(0,i.jsxs)(n.p,{children:["We call Set ",(0,i.jsx)(n.code,{children:"SetAbstractBCParam"})," to set the parameter for boundary condition."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:'CALL SetAbstractBCParam(param=param, prefix=obj%GetPrefix(),  &\n  & name="ZeroBC", idof=1, nodalValueType=Constant, isUserFunction=.TRUE.)\n'})}),"\n",(0,i.jsxs)(n.p,{children:["We call ",(0,i.jsx)(n.code,{children:"SetMeshSelectionParam"})," to set the parameter for boundary condition."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:"CALL SetMeshSelectionParam(param=param, prefix=boundary%GetPrefix(),  &\n  & isSelectionByMeshID=.TRUE.)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["We call ",(0,i.jsx)(n.code,{children:"SetUserFunctionParam"})," to set the parameter for boundary condition."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:'CALL SetUserFunctionParam(param=param, name="bc", returnType=Scalar,  &\n  & argType=Constant)\n'})}),"\n",(0,i.jsx)(n.p,{children:"Initiate boundary."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:"CALL boundary%Initiate(param)\nCALL boundary%Add(dom=dom, dim=nsd - 1, meshID=[top])\nCALL boundary%Set()\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/docs-api/DirichletBC/Initiate",children:"Initiate"})," ",(0,i.jsx)(n.code,{children:"DirichletBC_"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:"CALL obj%Initiate(param=param, boundary=boundary, dom=dom)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Initiate user function."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:"ALLOCATE (func)\nCALL func%Initiate(param)\nCALL func%Set(scalarValue=1.0_DFP)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Set the user function to ",(0,i.jsx)(n.code,{children:"DirichletBC"})," by calling ",(0,i.jsx)(n.a,{href:"/docs-api/DirichletBC/Set",children:"Set"})," method."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:"CALL obj%Set(userFunction=func)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Get the value from ",(0,i.jsx)(n.code,{children:"DirichletBC"})," by calling ",(0,i.jsx)(n.a,{href:"/docs-api/DirichletBC/Get",children:"Get"})," method."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:"CALL obj%Get(nodeNum=nodeNum, nodalValue=nodalValue)\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fortran",children:"CALL domainfile%DEALLOCATE()\nCALL dom%DEALLOCATE()\nCALL param%DEALLOCATE(); CALL FPL_Finalize\nEND PROGRAM main\n"})})]})}function o(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},95226:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var i=r(85893),a=r(11151),t=r(31615);const o={sidebar_position:2},s="Constant user function",c={id:"programming-fem/dirichletBC/dbc_userfunc_const",title:"Constant user function",description:"",source:"@site/docs/guides/programming-fem/dirichletBC/dbc_userfunc_const.md",sourceDirName:"programming-fem/dirichletBC",slug:"/programming-fem/dirichletBC/dbc_userfunc_const",permalink:"/guides/programming-fem/dirichletBC/dbc_userfunc_const",draft:!1,unlisted:!1,editUrl:"https://github.com/easifem-fortran/easifem-fortran.github.io/tree/main/docs/guides/programming-fem/dirichletBC/dbc_userfunc_const.md",tags:[],version:"current",lastUpdatedAt:1701182689,formattedLastUpdatedAt:"Nov 28, 2023",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Dirichlet boundary condition",permalink:"/guides/programming-fem/dirichletBC/"},next:{title:"Space user function",permalink:"/guides/programming-fem/dirichletBC/dbc_userfunc_space"}},d={},l=[];function m(e){const n={h1:"h1",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"constant-user-function",children:"Constant user function"}),"\n","\n","\n",(0,i.jsx)(t.ZP,{})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>s,a:()=>o});var i=r(67294);const a={},t=i.createContext(a);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);