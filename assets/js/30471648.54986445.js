"use strict";(self.webpackChunkeasifem_docs=self.webpackChunkeasifem_docs||[]).push([[67431],{79338:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>x,frontMatter:()=>r,metadata:()=>d,toc:()=>a});var l=n(85893),i=n(11151);const r={author:"Vikas Sharma, Ph.D.",date:"2 Nov 2022",tags:["SetSTDBE511Param","SetLinSolverParam","Domain/Initiate","STDBE511/Initiate"]},s="STDBE511 example 2",d={id:"STDBE511/STDBE511_test_2",title:"STDBE511 example 2",description:"- Both fluid and porous medium are considered",source:"@site/docs/docs-api/STDBE511/STDBE511_test_2.md",sourceDirName:"STDBE511",slug:"/STDBE511/STDBE511_test_2",permalink:"/docs-api/STDBE511/STDBE511_test_2",draft:!1,unlisted:!1,editUrl:"https://github.com/easifem-fortran/easifem-fortran.github.io/tree/main/docs/docs-api/STDBE511/STDBE511_test_2.md",tags:[{label:"SetSTDBE511Param",permalink:"/docs-api/tags/set-stdbe-511-param"},{label:"SetLinSolverParam",permalink:"/docs-api/tags/set-lin-solver-param"},{label:"Domain/Initiate",permalink:"/docs-api/tags/domain-initiate"},{label:"STDBE511/Initiate",permalink:"/docs-api/tags/stdbe-511-initiate"}],version:"current",lastUpdatedAt:1701057211,formattedLastUpdatedAt:"Nov 27, 2023",frontMatter:{author:"Vikas Sharma, Ph.D.",date:"2 Nov 2022",tags:["SetSTDBE511Param","SetLinSolverParam","Domain/Initiate","STDBE511/Initiate"]},sidebar:"tutorialSidebar",previous:{title:"STDBE511 example 1",permalink:"/docs-api/STDBE511/STDBE511_test_1"},next:{title:"STDBE511 example 3",permalink:"/docs-api/STDBE511/STDBE511_test_3"}},c={},a=[{value:"Header",id:"header",level:2},{value:"Declare variables",id:"declare-variables",level:2},{value:"SetSTDBE511Param",id:"setstdbe511param",level:2},{value:"SetLinSolverParam",id:"setlinsolverparam",level:2},{value:"Domain Initiate",id:"domain-initiate",level:2},{value:"Initiate",id:"initiate",level:2},{value:"Next",id:"next",level:2}];function o(e){const t={code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.h1,{id:"stdbe511-example-2",children:"STDBE511 example 2"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Both fluid and porous medium are considered"}),"\n",(0,l.jsx)(t.li,{children:"L = 0.1 m"}),"\n",(0,l.jsx)(t.li,{children:"dx = 0.1/50"}),"\n",(0,l.jsx)(t.li,{children:"K0 = E-10 m2"}),"\n",(0,l.jsx)(t.li,{children:"Da = E-8"}),"\n",(0,l.jsx)(t.li,{children:"V_TOP = 0.01"}),"\n",(0,l.jsx)(t.li,{children:"dt = dx / V_TOP = 0.2"}),"\n",(0,l.jsx)(t.li,{children:"StabOption=1"}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:"Mesh:"}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:n(61077).Z+"",width:"880",height:"910"})}),"\n",(0,l.jsx)(t.p,{children:"In this example we test following:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"[[STDBE511_#SetSTDBE511Param]]"}),"\n",(0,l.jsx)(t.li,{children:"[[LinSolver_#SetLinSolverParam]]"}),"\n",(0,l.jsx)(t.li,{children:"[[Domain_#Initiate]]"}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:"[TOC]"}),"\n",(0,l.jsx)(t.h2,{id:"header",children:"Header"}),"\n",(0,l.jsx)(t.p,{children:'!!! note "Some simulation parameter"'}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"#define _K0_ 1.0E-10\n#define _PHI_ 0.5_DFP\n#define _DT_ 0.2\n#define _VTOP_ 0.01_DFP\n#define _MU_FLUID_ 0.001\n#define _RHO_FLUID_ 1000.0\n#define _TIMESTEPS_ maxI4B\n#define _MAX_ITER_ 20\n#define _tDBC4P_ 0\n#define _REF_PRESSURE_NODE_ 90\n#define _STAB_PARAM_OPTION_ 1\n#define _MATERTIAL_INTERFACES_ [7]\n#define _SAVE_STATE_FREQ_ 100\n#define _WRITE_FREQ_ 1\n"})}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"varName"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Comment"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_K0_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"permeability of the soil"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_PHI_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"porosity of the soil"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_DT_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"time step size"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_VTOP_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"velocity at top"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_MU_FLUID_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"dynamic viscosity of fluid"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_RHO_FLUID_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"mass-density of fluid"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_TIMESTEPS_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"number of time steps"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_MAX_ITER_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"maximum number of Newton iteration"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_tDBC4P_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"total Dirichlet BC for pressure"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_REF_PRESSURE_NODE_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"reference node number for pressure"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_STAB_PARAM_OPTION_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"stabilization option"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_MATERTIAL_INTERFACES_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"mesh-id of fluid-soil interfaces"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_SAVE_STATE_FREQ_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"save-state frequency"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"_WRITE_FREQ_"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"write-frequency"})]})]})]}),"\n",(0,l.jsx)(t.p,{children:'!!! note "Include modules"'}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"PROGRAM main\n  USE easifemBase\n  USE easifemClasses\n  USE easifemMaterials\n  USE easifemKernels\n  USE STDBE511_Class\n  IMPLICIT NONE\n"})}),"\n",(0,l.jsx)(t.h2,{id:"declare-variables",children:"Declare variables"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:'  TYPE(STDBE511_) :: obj\n  TYPE(ParameterList_) :: param\n  TYPE(HDF5File_) :: domainFile\n  TYPE( HDF5File_ ) :: outfile\n  TYPE( HDF5File_ ) :: statefile\n  TYPE(MeshSelection_) :: region\n  TYPE(Domain_), TARGET :: dom\n  CLASS(DirichletBC_), POINTER :: dbc => NULL()\n  CHARACTER(LEN=*), PARAMETER :: &\n    & domainFileName = "./mesh.h5"\n  CHARACTER( LEN = * ), PARAMETER :: &\n    & outfilePrefix="./output"\n  CHARACTER( LEN = * ), PARAMETER :: &\n    & statePrefix="./state"\n  INTEGER( I4B ), PARAMETER :: CoordinateSystem = KERNEL_2D\n  INTEGER( I4B ), PARAMETER :: SaveStateFrequency = _SAVE_STATE_FREQ_\n  INTEGER( I4B ), PARAMETER :: writeFrequency = _WRITE_FREQ_\n  INTEGER( I4B ) :: backupNumber\n'})}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"var-name"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"comment"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"obj"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Instance of [[STDBE511_]] kernel"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"param"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"parameters instance of [[ParameterList_]]"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"domainFile"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"domain file [[HDF5File_]]"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"outfile"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"output file [[HDF5File_]]"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"statefile"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"state file [[HDF5File_]]"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"region"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"mesh region [[MeshSelection_]]"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"dom"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"domain [[Domain_]]"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"dbc"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"instance of dirichlet boundary condition [[NeumannBC_]]"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"domainFileName"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"domain file name"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"outfilePrefix"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"output file prefix"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"statePrefix"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"state file prefix"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"coordinateSystem"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"coordinate system"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"saveStateFrequency"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"saving frequency for state files"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"writeFrequency"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"write frequency for output files"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"backupNumber"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"interal variable"})]})]})]}),"\n",(0,l.jsx)(t.p,{children:'!!! note "Linear solver parameters"'}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"  INTEGER(I4B), PARAMETER :: LinSolver_name = LIS_GMRES\n  INTEGER(I4B), PARAMETER :: KrylovSubspaceSize = 50\n  INTEGER(I4B), PARAMETER :: maxIter_LinSolver = -1\n  REAL(DFP), PARAMETER :: rtol_LinSolver=1.0D-6\n  REAL(DFP), PARAMETER :: atol_LinSolver=1.0D-10\n  INTEGER(I4B), PARAMETER :: preconditionOption = NO_PRECONDITION\n  INTEGER(I4B), PARAMETER :: convergenceIn_LinSolver = convergenceInRes\n  INTEGER(I4B), PARAMETER :: convergenceType_LinSolver = relativeConvergence\n  LOGICAL( LGT ), PARAMETER :: relativeToRHS = .FALSE.\n"})}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"var-name"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"comment"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"LinSolver_name"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"name of linear solver"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"KrylovSubspaceSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"a parameter for linsol"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"maxIter_LinSolver"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"max number of iterations in linsol"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"rtol_LinSolver"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"relative tolerance for linsol"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"atol_LinSolver"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"absolute tolerance for linsol"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"preconditionOption"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"precondition option"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"convergenceIn_LinSolver"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"convergence criteria for linsol"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"convergenceType_LinSolver"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"convergence criteria for linsol: relative or absolute."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"relativeToRHS"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"if convergence is relative then relative to RHS or not."})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["Currently, ",(0,l.jsx)(t.code,{children:"NO_PRECONDITON"})," means diagonal preconditioning will be selected."]}),"\n",(0,l.jsx)(t.p,{children:'!!! note "Iteration parameters"'}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"  INTEGER(I4B), PARAMETER :: nnt = 2\n  INTEGER( I4B ), PARAMETER :: stabParamOption = _STAB_PARAM_OPTION_\n  INTEGER( I4B ), PARAMETER :: maxIter= _MAX_ITER_\n  INTEGER(I4B), PARAMETER :: TotalTimeSteps = _TIMESTEPS_\n  REAL(DFP), PARAMETER :: startTime=0.0_DFP\n  REAL(DFP), PARAMETER :: dt= _DT_\n  REAL(DFP), PARAMETER :: endTime=dt*TotalTimeSteps\n  REAL( DFP ), PARAMETER :: atol_Pressure=1.0D-10\n  REAL( DFP ), PARAMETER :: rtol_Pressure=1.0D-10\n  REAL( DFP ), PARAMETER :: atol_Velocity=1.0D-6\n  REAL( DFP ), PARAMETER :: rtol_Velocity=1.0D-6\n  REAL( DFP ), PARAMETER :: tol_steadyState = 1.0E-8\n  LOGICAL( LGT ), PARAMETER :: resetIteration = .FALSE.\n  LOGICAL( LGT ), PARAMETER :: resetTimeStep = .FALSE.\n"})}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"var-name"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"comment"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"nnt"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"number of nodes in time"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"stabParamOption"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"stabilization parameter option"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"maxIter"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"maximum number of iteration"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"TotalTimeSteps"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"total number of time steps for the simulation"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"startTime"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"start time of simulation"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"dt"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"time step size of simulation"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"endTime"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"end time of simulation"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"atol_Pressure"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"absolute tolerance for checking convergence in pressure"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"rtol_Pressure"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"relative tolerance for checking convergence in pressure"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"atol_Velocity"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"absolute tolerance for checking convergence in velocity"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"rtol_Velocity"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"relative tolerance for checking convergence in velocity"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"tol_steadyState"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"tolerance for checking steady state"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"resetIteration"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"reset variables to zero after each iteration"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"resetTimeStep"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"reset variables to zero after each time step"})]})]})]}),"\n",(0,l.jsx)(t.p,{children:'!!! note "Materials and boundary conditions"'}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"  INTEGER(I4B), PARAMETER :: tPorousMaterials = 2\n  INTEGER(I4B), PARAMETER :: tFluidMaterials = 1\n  INTEGER(I4B), PARAMETER :: tDirichletBCForVelocity = 3\n  INTEGER(I4B), PARAMETER :: tDirichletBCForPressure = _tDBC4P_\n  INTEGER( I4B ), PARAMETER :: refPressureNode = _REF_PRESSURE_NODE_\n  INTEGER( I4B ), PARAMETER :: materialInterfaces(1) = _MATERTIAL_INTERFACES_\n  REAL(DFP), PARAMETER :: porosity= _PHI_\n  REAL(DFP), PARAMETER :: permeability = _K0_\n  REAL(DFP), PARAMETER :: massdensity_soil=1700.0\n  REAL(DFP), PARAMETER :: massdensity_fluid = _RHO_FLUID_\n  REAL(DFP), PARAMETER :: dynamicViscosity = _MU_FLUID_\n  REAL(DFP), PARAMETER :: V_TOP= _VTOP_\n"})}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"var-name"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"comment"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"tPorousMaterials"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"total porous media"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"tFluidMaterials"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"total fluid material"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"tDirichletBCForVelocity"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"total dirichlet boundary condition for velocity"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"tDirichletBCForPressure"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"total dirichlet boundary condition for pressure"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"refPressureNode"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"reference node number for pressure"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"porosity"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"porosity of soil"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"massdensity_soil"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"mass density of soil"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"permeability"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"permeability of soil"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"massdensity_fluid"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"mass density of fluid"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"dynamicViscosity"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"dynamic viscosity of fluid"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"V_TOP"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"velocity at the top"})]})]})]}),"\n",(0,l.jsx)(t.p,{children:'!!! note "Internal variables"'}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"  LOGICAL( LGT ) :: convg\n  INTEGER( I4B ) :: iter\n  INTEGER( I4B ) :: its\n  REAL( DFP ) :: t1, t2, t2t1\n"})}),"\n",(0,l.jsx)(t.h2,{id:"setstdbe511param",children:"SetSTDBE511Param"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"[[STDBE511_#SetSTDBE511Param]]"}),"\n"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:'  CALL FPL_INIT(); CALL param%Initiate()\n  !!\n  CALL SetSTDBE511Param( &\n    & param=param, &\n    & materialInterfaces=materialInterfaces, &\n    & stabParamOption=stabParamOption, &\n    & engine="NATIVE_SERIAL", &\n    & nnt=nnt, &\n    & startTime=startTime, &\n    & endTime=endTime, &\n    & dt=dt, &\n    & coordinateSystem=coordinateSystem, &\n    & maxIter=maxIter, &\n    & atoleranceForPressure=atol_pressure, &\n    & atoleranceForVelocity=atol_velocity, &\n    & rtoleranceForPressure=rtol_pressure, &\n    & rtoleranceForVelocity=rtol_velocity, &\n    & toleranceForSteadyState=tol_steadyState, &\n    & tPorousMaterials=tPorousMaterials, &\n    & tFluidMaterials=tFluidMaterials, &\n    & tDirichletBCForVelocity=tDirichletBCForVelocity, &\n    & tDirichletBCForPressure=tDirichletBCForPressure, &\n    & domainFile=domainFileName)\n'})}),"\n",(0,l.jsx)(t.h2,{id:"setlinsolverparam",children:"SetLinSolverParam"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"  CALL SetLinSolverParam( &\n    & param=param, &\n    & solverName=LinSolver_name,&\n    & preconditionOption=preconditionOption, &\n    & convergenceIn=convergenceIn_LinSolver, &\n    & convergenceType=convergenceType_LinSolver, &\n    & maxIter=maxIter_LinSolver, &\n    & relativeToRHS=relativeToRHS, &\n    & KrylovSubspaceSize=KrylovSubspaceSize, &\n    & rtol=rtol_LinSolver, &\n    & atol=atol_LinSolver )\n"})}),"\n",(0,l.jsx)(t.h2,{id:"domain-initiate",children:"Domain Initiate"}),"\n",(0,l.jsx)(t.p,{children:"Domain for pressure and velocity field"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:'  CALL domainFile%Initiate( filename=domainFileName, MODE="READ")\n  CALL domainFile%Open()\n  CALL dom%Initiate(domainFile, "")\n  CALL domainFile%Deallocate()\n'})}),"\n",(0,l.jsx)(t.h2,{id:"initiate",children:"Initiate"}),"\n",(0,l.jsx)(t.p,{children:"Initiate the STDBE511 kernel [[STDBE511_#Initiate]]"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"  CALL obj%Initiate(param=param, dom=dom)\n"})}),"\n",(0,l.jsx)(t.h2,{id:"next",children:"Next"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"[[STDBE511_test_3#AddPorousMaterial]]"}),"\n",(0,l.jsx)(t.li,{children:"[[STDBE511_test_3#AddFluidMaterial]]"}),"\n"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-fortran",children:"END PROGRAM main\n"})})]})}function x(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},61077:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/mesh-3b64386b62809a626597e2cac8755b01.png"},11151:(e,t,n)=>{n.d(t,{Z:()=>d,a:()=>s});var l=n(67294);const i={},r=l.createContext(i);function s(e){const t=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),l.createElement(r.Provider,{value:t},e.children)}}}]);